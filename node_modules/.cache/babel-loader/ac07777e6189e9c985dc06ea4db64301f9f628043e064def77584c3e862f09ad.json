{"ast":null,"code":"var _jsxFileName = \"/home/jagura/Desktop/webapp/src/components/adminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { addAlumno, getAllAlumnos } from \"../database/db\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminDashboard() {\n  _s();\n  const [formData, setFormData] = useState({\n    uid: \"\",\n    nombre: \"\",\n    numeroBoleta: \"\",\n    numeroPlaca: \"\"\n  });\n  const [fotos, setFotos] = useState({\n    fotoPerfil: null,\n    fotoVehiculo: null\n  });\n  const [alumnos, setAlumnos] = useState([]);\n  useEffect(() => {\n    async function fetchAlumnos() {\n      const data = await getAllAlumnos();\n      setAlumnos(data);\n    }\n    fetchAlumnos();\n  }, []);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    setFotos({\n      ...fotos,\n      [e.target.name]: e.target.files[0]\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.uid) {\n      alert(\"El UID es obligatorio.\");\n      return;\n    }\n    try {\n      await addAlumno(formData, fotos);\n      alert(\"Alumno registrado exitosamente\");\n      setFormData({\n        uid: \"\",\n        nombre: \"\",\n        numeroBoleta: \"\",\n        numeroPlaca: \"\"\n      });\n      setFotos({\n        fotoPerfil: null,\n        fotoVehiculo: null\n      });\n      const data = await getAllAlumnos();\n      setAlumnos(data);\n    } catch (error) {\n      alert(\"Error al registrar el alumno\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Panel de Administraci\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"admin-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"uid\",\n        placeholder: \"UID del Alumno\",\n        value: formData.uid,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"nombre\",\n        placeholder: \"Nombre Completo\",\n        value: formData.nombre,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"numeroBoleta\",\n        placeholder: \"N\\xFAmero de Boleta\",\n        value: formData.numeroBoleta,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"numeroPlaca\",\n        placeholder: \"N\\xFAmero de Placa\",\n        value: formData.numeroPlaca,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Foto de Perfil:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"fotoPerfil\",\n        accept: \"image/*\",\n        onChange: handleFileChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Foto del Veh\\xEDculo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"fotoVehiculo\",\n        accept: \"image/*\",\n        onChange: handleFileChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"admin-button\",\n        children: \"Registrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Alumnos Registrados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: alumnos.map(alumno => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [alumno.nombre, \" - \", alumno.numeroBoleta, \" - \", alumno.uid, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000${alumno.fotoPerfil}`,\n          alt: \"Perfil\",\n          width: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000${alumno.fotoVehiculo}`,\n          alt: \"Veh\\xEDculo\",\n          width: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, alumno.uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"YwkK0NDY6pCQqjTi66T/bd/Kg3I=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","addAlumno","getAllAlumnos","jsxDEV","_jsxDEV","AdminDashboard","_s","formData","setFormData","uid","nombre","numeroBoleta","numeroPlaca","fotos","setFotos","fotoPerfil","fotoVehiculo","alumnos","setAlumnos","fetchAlumnos","data","handleChange","e","target","name","value","handleFileChange","files","handleSubmit","preventDefault","alert","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","accept","map","alumno","src","alt","width","_c","$RefreshReg$"],"sources":["/home/jagura/Desktop/webapp/src/components/adminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { addAlumno, getAllAlumnos } from \"../database/db\";\n\nexport default function AdminDashboard() {\n  const [formData, setFormData] = useState({\n    uid: \"\",\n    nombre: \"\",\n    numeroBoleta: \"\",\n    numeroPlaca: \"\",\n  });\n\n  const [fotos, setFotos] = useState({\n    fotoPerfil: null,\n    fotoVehiculo: null,\n  });\n\n  const [alumnos, setAlumnos] = useState([]);\n\n  useEffect(() => {\n    async function fetchAlumnos() {\n      const data = await getAllAlumnos();\n      setAlumnos(data);\n    }\n    fetchAlumnos();\n  }, []);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleFileChange = (e) => {\n    setFotos({ ...fotos, [e.target.name]: e.target.files[0] });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.uid) {\n      alert(\"El UID es obligatorio.\");\n      return;\n    }\n\n    try {\n      await addAlumno(formData, fotos);\n      alert(\"Alumno registrado exitosamente\");\n      setFormData({ uid: \"\", nombre: \"\", numeroBoleta: \"\", numeroPlaca: \"\" });\n      setFotos({ fotoPerfil: null, fotoVehiculo: null });\n\n      const data = await getAllAlumnos();\n      setAlumnos(data);\n    } catch (error) {\n      alert(\"Error al registrar el alumno\");\n    }\n  };\n\n  return (\n    <div className=\"admin-container\">\n      <h1>Panel de Administración</h1>\n      <form onSubmit={handleSubmit} className=\"admin-card\">\n        <input type=\"text\" name=\"uid\" placeholder=\"UID del Alumno\" value={formData.uid} onChange={handleChange} required />\n        <input type=\"text\" name=\"nombre\" placeholder=\"Nombre Completo\" value={formData.nombre} onChange={handleChange} required />\n        <input type=\"text\" name=\"numeroBoleta\" placeholder=\"Número de Boleta\" value={formData.numeroBoleta} onChange={handleChange} required />\n        <input type=\"text\" name=\"numeroPlaca\" placeholder=\"Número de Placa\" value={formData.numeroPlaca} onChange={handleChange} required />\n        \n        <label>Foto de Perfil:</label>\n        <input type=\"file\" name=\"fotoPerfil\" accept=\"image/*\" onChange={handleFileChange} required />\n\n        <label>Foto del Vehículo:</label>\n        <input type=\"file\" name=\"fotoVehiculo\" accept=\"image/*\" onChange={handleFileChange} required />\n\n        <button type=\"submit\" className=\"admin-button\">Registrar</button>\n      </form>\n\n      <h2>Alumnos Registrados</h2>\n      <ul>\n        {alumnos.map((alumno) => (\n          <li key={alumno.uid}>\n            {alumno.nombre} - {alumno.numeroBoleta} - {alumno.uid}\n            <br />\n            <img src={`http://localhost:5000${alumno.fotoPerfil}`} alt=\"Perfil\" width=\"50\" />\n            <img src={`http://localhost:5000${alumno.fotoVehiculo}`} alt=\"Vehículo\" width=\"50\" />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}